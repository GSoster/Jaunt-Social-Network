<template name="user">
  {{#if user}}
  <div class="text-center">
    {{#with user.profile}}
    <h1>{{firstName}}</h1> {{/with}}
    <div class="row">
      <div class="col-md-6">
        <p>{{user.profile.about}}</p>
        {{> friendship}} {{> followButton}}
        <br>
         Posts published: {{postsCount}}
         <br>
         {{> userProfilePoints}}
      </div>
      <div class="col-md-6">
        {{> userProfileAchievements}}
      </div>
    </div>
    <!-- closes row -->
    <div class="col-md-12">
      {{#each challenges}}
        {{> userChallenges}}
      {{/each}}
    </div>
    {{> timeline}}
  </div>
  {{else}}
  <h1>User not identified.</h1>
  <a href="{{pathFor 'home'}}">Homepage</a> {{/if}}
</template>

<template name="userProfileAchievements">
  <div class="row">
    <div class="col-xs-12">
      <div class="well">
        <h2>Achievements Unlocked</h2>
        <p>Total number of achievements: {{achievementsCount}}</p>
        {{#each achievementsUnlocked}}
        <img src="{{image}}" alt="{{title}}" title="{{title}}" width="50px" height="50px"> {{/each}}
      </div>
    </div>
  </div>
</template>

<template name="userProfilePoints">
  Total Points: {{totalPoints}}<br>
  Points from comments: {{commentPoints}}<br>
  Points from Posts: {{postPoints}}
</template>

<template name="userChallenges">
  <div class="bg-warning row">
    <span class="text-danger">{{challengedByUserName}} challenged you to <b>comment</b> on {{ChallengedOn}}</span>
  </div>
</template>
